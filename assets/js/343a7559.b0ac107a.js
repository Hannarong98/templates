"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[2592],{3905:function(e,t,r){r.d(t,{Zo:function(){return l},kt:function(){return d}});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=n.createContext({}),u=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},l=function(e){var t=u(e.components);return n.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,l=a(e,["components","mdxType","originalType","parentName"]),m=u(r),d=o,f=m["".concat(c,".").concat(d)]||m[d]||p[d]||i;return r?n.createElement(f,s(s({ref:t},l),{},{components:r})):n.createElement(f,s({ref:t},l))}));function d(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=r.length,s=new Array(i);s[0]=m;var a={};for(var c in t)hasOwnProperty.call(t,c)&&(a[c]=t[c]);a.originalType=e,a.mdxType="string"==typeof e?e:o,s[1]=a;for(var u=2;u<i;u++)s[u]=r[u];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},3876:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return a},contentTitle:function(){return c},metadata:function(){return u},toc:function(){return l},default:function(){return m}});var n=r(3117),o=r(102),i=(r(7294),r(3905)),s=["components"],a={title:"Security - CORS",sidebar_label:"CORS",slug:"/API/Security/CORS",sidebar_position:3},c=void 0,u={unversionedId:"API/Security/CORS",id:"API/Security/CORS",title:"Security - CORS",description:"Cross-origin resource sharing (CORS) is a mechanism that allows restricted resources on a web page to be requested from another domain outside the domain from which the first resource was served.",source:"@site/express/API/Security/CORS.mdx",sourceDirName:"API/Security",slug:"/API/Security/CORS",permalink:"/express/API/Security/CORS",editUrl:"https://github.com/Intility/templates/tree/main/docusaurus/express/API/Security/CORS.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Security - CORS",sidebar_label:"CORS",slug:"/API/Security/CORS",sidebar_position:3},sidebar:"express",previous:{title:"Authorization",permalink:"/express/API/Security/Authorization"},next:{title:"HTTP",permalink:"/express/API/Security/HTTP"}},l=[],p={toc:l};function m(e){var t=e.components,r=(0,o.Z)(e,s);return(0,i.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Cross-origin resource sharing (CORS) is a mechanism that allows restricted resources on a web page to be requested from another domain outside the domain from which the first resource was served.\nBy default only services (clients and servers) hosted on the same server can access each other. To allow other services to access your server you have to whitelist them using HTTP Headers manually or by using dependencies that helps you out with this."),(0,i.kt)("p",null,"Go ahead and install this dependency:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/cors"},"cors")," - Allows for configuring cors without touching the header values manually.")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"npm i cors")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/@types/cors"},"@types/cors")," - Typescript typing definitions for cors package.")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"npm i -D @types/cors")),(0,i.kt)("p",null,"Next go to the file where you initialize the express server and add the following code snippet:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},'import cors from "cors"\n\n// Where you initialize the express server\n// const app = express();\n\napp.use(cors());\n')),(0,i.kt)("p",null,"This allow all external services to connect to your server, which is not ideal. The best solution is to whitelist domains by configuring the cors middleware."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"app.use(cors({ \n    origin: [\n        'my-super-awesome-frontend.azurewebsites.net',\n        'my-cool-background-process.azurewebsites.net'\n    ] \n}));\n")),(0,i.kt)("p",null,"There are many ways to configure cors, check out the npm packages documentation for more info."))}m.isMDXComponent=!0}}]);